#################################
#             Fonts             #
#################################
font_family      JetBrains Mono Medium
bold_font        JetBrains Mono Bold
italic_font      JetBrains Mono Medium Italic
bold_italic_font JetBrains Mono Bold Italic

# Persian font fallback
symbol_map U+0600-U+06FF,U+200C-U+200D,U+2010-U+2011,U+FB50-U+FDFF,U+FE70-U+FEFF Vazir Code

# Font size
font_size 11.0

# Adjust line height
adjust_line_height  110%
adjust_column_width 0

# Disable font features that might cause issues
disable_ligatures never

#################################
#         Color Scheme          #
#################################
# Tokyo Night Dark theme
foreground              #c0caf5
selection_foreground    #1a1b26
background              #1a1b26
selection_background    #7aa2f7

# Cursor colors
cursor                  #c0caf5
cursor_text_color       #1a1b26

# URL underline color when hovering with mouse
url_color               #7aa2f7

# Border colors
active_border_color     #7aa2f7
inactive_border_color   #3b4261
bell_border_color       #f7768e

# Tab bar colors
active_tab_foreground   #1a1b26
active_tab_background   #7aa2f7
inactive_tab_foreground #565f89
inactive_tab_background #16161e
tab_bar_background      #101014

# Mark colors
mark1_foreground        #1a1b26
mark1_background        #9ece6a
mark2_foreground        #1a1b26
mark2_background        #e0af68
mark3_foreground        #1a1b26
mark3_background        #bb9af7

# Black
color0  #15161e
color8  #414868

# Red
color1  #f7768e
color9  #f7768e

# Green
color2  #9ece6a
color10 #9ece6a

# Yellow
color3  #e0af68
color11 #e0af68

# Blue
color4  #7aa2f7
color12 #7aa2f7

# Magenta
color5  #bb9af7
color13 #bb9af7

# Cyan
color6  #7dcfff
color14 #7dcfff

# White
color7  #a9b1d6
color15 #c0caf5

#################################
#         Appearance            #
#################################
# Window layout
remember_window_size  yes
initial_window_width  100c
initial_window_height 30c

# Window padding
window_padding_width 12

# Window borders
draw_minimal_borders yes
window_border_width 1px
single_window_margin_width -1

# Window title
dynamic_background_opacity yes

# Hide window decorations
hide_window_decorations no

# Background opacity
background_opacity 0.92

# Background blur (requires compositor)
background_blur 32

# Dim text when window loses focus
dim_opacity 0.85

#################################
#            Cursor             #
#################################
cursor_shape block
cursor_beam_thickness 1.5
cursor_underline_thickness 2.0
cursor_blink_interval -1
cursor_stop_blinking_after 15.0

#################################
#         Scrollback            #
#################################
scrollback_lines 10000
scrollback_pager less --chop-long-lines --RAW-CONTROL-CHARS +INPUT_LINE_NUMBER

# Scrollback buffer in MB
scrollback_pager_history_size 0

# Fill scrollback from last command output
scrollback_fill_enlarged_window no

#################################
#           Mouse               #
#################################
# The color and style for highlighting URLs on mouse-over
url_color #7aa2f7
url_style curly

# Mouse hide delay
mouse_hide_wait 3.0

# Copy on select
copy_on_select yes

# Strip trailing spaces when copying
strip_trailing_spaces never

# Characters to consider part of a word when double clicking
select_by_word_characters @-./_~?&=%+#

# Click interval for double click
click_interval -1.0

# Focus follows mouse
focus_follows_mouse no

# Default shape of the mouse pointer
pointer_shape_when_grabbed arrow
pointer_shape_when_dragging beam

#################################
#         Performance           #
#################################
# Delay in milliseconds between screen updates
repaint_delay 10

# Delay between key presses
input_delay 3

# Sync screen updates to the refresh rate
sync_to_monitor yes

#################################
#         Terminal Bell         #
#################################
enable_audio_bell no
visual_bell_duration 0.0
visual_bell_color none
window_alert_on_bell yes
bell_on_tab "ðŸ”” "
command_on_bell none

#################################
#            Tabs               #
#################################
tab_bar_edge top
tab_bar_margin_width 0.0
tab_bar_margin_height 0.0 0.0
tab_bar_style powerline
tab_bar_align left
tab_bar_min_tabs 2
tab_switch_strategy previous
tab_fade 0.25 0.5 0.75 1
tab_separator " â”‡"
tab_powerline_style angled
tab_activity_symbol none
tab_title_template "{fmt.fg.red}{bell_symbol}{activity_symbol}{fmt.fg.tab}{title}{fmt.nobold}"
active_tab_title_template none

#################################
#         Key Bindings          #
#################################
# Clipboard
map ctrl+shift+c copy_to_clipboard
map ctrl+shift+v paste_from_clipboard
map ctrl+shift+s paste_from_selection
map shift+insert paste_from_selection
map ctrl+shift+o pass_selection_to_program

# Scrolling
map ctrl+shift+up        scroll_line_up
map ctrl+shift+k         scroll_line_up
map ctrl+shift+down      scroll_line_down
map ctrl+shift+j         scroll_line_down
map ctrl+shift+page_up   scroll_page_up
map ctrl+shift+page_down scroll_page_down
map ctrl+shift+home      scroll_home
map ctrl+shift+end       scroll_end
map ctrl+shift+h         show_scrollback
map ctrl+shift+g         show_last_command_output

# Window management
map ctrl+shift+enter new_window
map ctrl+shift+n new_os_window
map ctrl+shift+w close_window
map ctrl+shift+] next_window
map ctrl+shift+[ previous_window
map ctrl+shift+f move_window_forward
map ctrl+shift+b move_window_backward
map ctrl+shift+` move_window_to_top
map ctrl+shift+r start_resizing_window
map ctrl+shift+1 first_window
map ctrl+shift+2 second_window
map ctrl+shift+3 third_window
map ctrl+shift+4 fourth_window
map ctrl+shift+5 fifth_window
map ctrl+shift+6 sixth_window
map ctrl+shift+7 seventh_window
map ctrl+shift+8 eighth_window
map ctrl+shift+9 ninth_window
map ctrl+shift+0 tenth_window

# Tab management
map ctrl+shift+right next_tab
map ctrl+shift+left  previous_tab
map ctrl+shift+t     new_tab
map ctrl+shift+q     close_tab
map ctrl+shift+.     move_tab_forward
map ctrl+shift+,     move_tab_backward
map ctrl+shift+alt+t set_tab_title

# Layout management
map ctrl+shift+l next_layout
map ctrl+shift+alt+l last_used_layout

# Font sizes
map ctrl+shift+equal     change_font_size all +2.0
map ctrl+shift+plus      change_font_size all +2.0
map ctrl+shift+kp_add    change_font_size all +2.0
map ctrl+shift+minus     change_font_size all -2.0
map ctrl+shift+kp_subtract change_font_size all -2.0
map ctrl+shift+backspace change_font_size all 0

# Select and act on visible text
map ctrl+shift+e open_url_with_hints
map ctrl+shift+p>f kitten hints --type path --program -
map ctrl+shift+p>shift+f kitten hints --type path
map ctrl+shift+p>l kitten hints --type line --program -
map ctrl+shift+p>w kitten hints --type word --program -
map ctrl+shift+p>h kitten hints --type hash --program -
map ctrl+shift+o kitten hints --type linenum

# Miscellaneous
map ctrl+shift+f11    toggle_fullscreen
map ctrl+shift+f10    toggle_maximized
map ctrl+shift+u      kitten unicode_input
map ctrl+shift+f2     edit_config_file
map ctrl+shift+escape kitty_shell

# Sending arbitrary text on key presses
map ctrl+alt+a send_text all Special text
map ctrl+alt+enter send_text normal Word\x1b[H
map ctrl+alt+f2 send_text all Hello World

#################################
#         Advanced              #
#################################
# The shell program to execute
shell .

# Close the window when the child process exits
close_on_child_death no

# Allow other programs to control kitty
allow_remote_control yes

# Environment variables
env TERM=xterm-kitty

# Startup session
startup_session none

# Clipboard control
clipboard_control write-clipboard write-primary read-clipboard-ask read-primary-ask

# Advanced settings
term xterm-kitty

# Allow programs to change the window title
allow_hyperlinks yes

# Process hyperlink escape sequences
shell_integration enabled

#################################
#            Layouts            #
#################################
# Available layouts
enabled_layouts tall:bias=50;full_size=1;mirrored=false

# Default layout
layout_function_key_map f1:goto_layout tall
layout_function_key_map f2:goto_layout stack

#################################
#            OS Specific        #
#################################
# Linux specific
linux_display_server auto

# Update check
update_check_interval 24

# Confirm close
confirm_os_window_close 0
